var active=!1,delta,start,m=window.m=function(a){var c=a.type,d=a.pageX,e=a.pageY,f=1,g=active?active.getAttribute('transform')||'rotate(0) translate(0,0)':'';return'polygon'==a.target.tagName&&c.match(/r|w/)?(active=a.target,void(start=[d,e])):void(active&&(a.preventDefault(),c.match(/v/)&&(delta=[d-start[0],e-start[1]],g=g.replace(/tr[^)]+\)/g,function(){return'translate('+delta[0]+','+delta[1]+')'})),c.match(/p|nd/)&&(delta?(g=g.replace(/tr[^)]+\)/g,'translate(0,0)'),active.setAttribute('points',active.getAttribute('points').replace(/([\d.-]+)/g,function(h){return+h+delta[f?f=0:f=1]}))):active.setAttribute('points',active.getAttribute('points').replace(/([\d.-]+),([\d.-]+)/g,function(h,j,k){var n=Math.PI/180*45,o=Math.cos(n),p=Math.sin(n);return(0|100*(o*(j-d)+p*(k-e)+d))/100+','+(0|100*(o*(k-e)-p*(j-d)+e))/100})),delta=start=!1),active.setAttribute('transform',g),start||(active=!1)))},SCALE=2.5,tangram=[['0,0 0,100 50,50','fill:#001f3f;filter:url(#blurMe)'],['0,100 100,100 50,50','fill:#0074D9;filter:url(#blurMe)'],['100,100 100,50 75,75','fill:#7FDBFF;filter:url(#blurMe)'],['100,50 100,0 50,0','fill:#39CCCC;filter:url(#blurMe)'],['50,50 75,25 100,50 75,75','fill:#3D9970;filter:url(#blurMe)'],['50,50 75,25 25,25','fill:#2ECC40;filter:url(#blurMe)'],['0,0 50,0 75,25 25,25','fill:#01FF70;filter:url(#blurMe)']].map(function(a){return a[0]=a[0].replace(/(\d+)/g,function(c){return c*SCALE}),a}),elm=document.createElement('div');elm.innerHTML='<svg viewBox="0 0 1000 800"><filter id="blurMe"><feGaussianBlur in="SourceGraphic" stdDeviation="3"/></filter>'+tangram.map(function(a){return'<polygon points="'+a[0]+'" style="'+a[1]+'"/>'}).join('')+'</svg>',b.prepend(elm),'mousedown mousemove mouseup touchstart touchend touchmove'.replace(/\w+/g,function(a){elm.addEventListener(a,m)});
