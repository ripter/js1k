const e=312,l=32,t=390,o=10,n=250,i={X:157,Y:215},r=!1,a="ðŸ’Ž",f="ðŸ’£",s=0,g=1,d=2,y=3,h=4,S=5;let k=-n,m=!1,T=a,Y=0,p=3,u=0;const w=[[0,0,3,8,5,4],[3,8,5,16,10,10],[5,16,8,24,15,16],[8,24,11,32,20,24],[11,32,15,44,25,36],[15,44,19,58,30,48],[19,58,22,70,35,60],[22,70,29,90,40,75],[29,90,35,112,45,99],[35,112,45,140,50,122],[45,140,55,175,55,155]];function x(){c.font="24px monospace",c.fillStyle="#f0f0b5";let l="";for(var t=0;t<p;t++)l+="ðŸ’£";c.fillText(`ðŸ’Ž ${Y}`,10,30),c.fillText(l,e-90,30)}function v(e){const t=i.X-l,o=i.X+l;c.beginPath(),c.moveTo(t-e[s],i.Y+e[g]),c.lineTo(o+e[s],i.Y+e[g]),c.lineTo(o+e[d],i.Y+e[y]),c.lineTo(t-e[d],i.Y+e[y]),c.lineTo(t-e[s],i.Y+e[g]),c.fill(),c.stroke()}function X(o=0){const s=w[u];(0|(o|=0)-k)>=n&&(console.log("%cframe","color: #ddd;",u),k=o,c.fillStyle="#725636",c.fillRect(0,0,e,t),c.fillStyle="#000",c.beginPath(),c.arc(e/2,t/2,e/2,0,1*Math.PI,!0),c.rect(0,t/2,e,t/2),c.fill(),m&&u===w.length-1&&(T===a?(Y+=1,c.fillStyle="rgba(0, 0, 255, .8)"):T===f&&(p-=1,c.fillStyle="rgba(255, 0, 0, .8)"),c.fillRect(0,0,e,t)),x(),p<=0&&(c.fillText("Game Over",e/2-70,t/2-25),T=r),c.fillStyle="#392b1b",c.lineWidth=1,u>4&&(c.strokeStyle="rgba(255, 255, 255, .25)",v(w[u-4])),u>2&&(c.strokeStyle="rgba(255, 255, 255, .5)",v(w[u-2])),c.strokeStyle="rgba(255, 255, 255, 1)",v(s),u+2<w.length&&(c.strokeStyle="rgba(255, 255, 255, .75)",v(w[u+2])),T!==r&&(c.font=`${12*u}px serif`,c.fillText(T,i.X-s[h],i.Y+s[S])),c.strokeStyle="rgba(255, 255, 255, .75)",c.lineWidth=10,c.strokeRect(i.X-62,i.Y+10,4*l,4*l),(u+=1)===w.length&&(u=0,T=Math.random()>.5?a:f,m=!1)),p>0&&!window.pause&&window.requestAnimationFrame(X)}console.log("Coin Miner 2018"),["click","touchend"].forEach(e=>{b.addEventListener(e,e=>{u>=7&&(m=!0)})}),X(),window.addEventListener("keydown",e=>{console.log(e),"Space"===e.code&&(e.shiftKey&&(u-=2)<0&&(u=10),console.log("skipping to frame",u),requestAnimationFrame(X))});
