var WIDTH=312,HALF_WIDTH=156,HEIGHT=390,HALF_HEIGHT=195,FRAME_RATE=250,GAMEOVER_X=86,GAMEOVER_Y=170,HEADER_Y=30,LIVES_X=222,SCORE_WIDTH=128,SCORE_X=95,SCORE_Y=225,PLANK_X1=125,PLANK_X2=189,PLANK_Y=215,PLANK_X=157,COIN='\uD83D\uDC8E',BOMB='\uD83D\uDCA3',RECT_TOP=0,RECT_LEFT=1,RECT_BOTTOM=2,RECT_RIGHT=3,ITEM_X=4,ITEM_Y=5,FRAMES=[[0,0,3,8,5,4],[3,8,5,16,10,10],[5,16,8,24,15,16],[8,24,11,32,20,24],[11,32,15,44,25,36],[15,44,19,58,30,48],[19,58,22,70,35,60],[22,70,29,90,40,75],[29,90,35,112,45,99],[35,112,45,140,50,122],[45,140,55,175,55,155]],lastTimestamp=-FRAME_RATE,isKeyDown=!1,currentItem=COIN,score=0,lives=3,frame=0;['click','touchend'].forEach((a)=>{b.addEventListener(a,()=>{8<=frame&&(isKeyDown=!0)})});function tick(a=0){a=0|a;var d=0|a-lastTimestamp,e=FRAMES[frame];d>=FRAME_RATE&&(lastTimestamp=a,c.fillStyle='#725636',c.fillRect(0,0,WIDTH,HEIGHT),c.fillStyle='#000',c.beginPath(),c.arc(HALF_WIDTH,HALF_HEIGHT,HALF_WIDTH,0,Math.PI,!0),c.rect(0,HALF_HEIGHT,WIDTH,HALF_HEIGHT),c.fill(),isKeyDown&&frame==FRAMES.length-1&&(currentItem===COIN?(score+=1,c.fillStyle='rgba(0, 0, 255, .8)'):currentItem==BOMB&&(lives-=1,c.fillStyle='rgba(255, 0, 0, .8)'),c.fillRect(0,0,WIDTH,HEIGHT)),c.lineWidth=1,[frame-4,frame-2,frame,frame+2].forEach((a,d)=>{if(FRAMES[a]){var e=FRAMES[a];c.strokeStyle=`rgba(255, 255, 255, ${.25*d})`,c.fillStyle=`rgba(57, 43, 27, ${.25*d})`,c.beginPath(),c.moveTo(PLANK_X1-e[RECT_TOP],PLANK_Y+e[RECT_LEFT]),c.lineTo(PLANK_X2+e[RECT_TOP],PLANK_Y+e[RECT_LEFT]),c.lineTo(PLANK_X2+e[RECT_BOTTOM],PLANK_Y+e[RECT_RIGHT]),c.lineTo(PLANK_X1-e[RECT_BOTTOM],PLANK_Y+e[RECT_RIGHT]),c.lineTo(PLANK_X1-e[RECT_TOP],PLANK_Y+e[RECT_LEFT]),c.fill(),c.stroke()}}),c.font='24px serif',c.fillStyle='#f0f0b5',c.fillText(`${COIN} ${score}`,10,HEADER_Y),c.fillText(BOMB.repeat(lives),LIVES_X,HEADER_Y),0>=lives&&c.fillText(`Game Over`,GAMEOVER_X,GAMEOVER_Y),c.font=`${12*frame}px serif`,c.fillText(currentItem,PLANK_X-e[ITEM_X],PLANK_Y+e[ITEM_Y]),c.strokeStyle='rgba(255, 255, 255, .75)',c.lineWidth=10,c.strokeRect(SCORE_X,SCORE_Y,SCORE_WIDTH,SCORE_WIDTH),frame+=1,frame===FRAMES.length&&(frame=0,currentItem=.5<Math.random()?COIN:BOMB,isKeyDown=!1)),0<lives&&!window.pause&&window.requestAnimationFrame(tick)}tick();